<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Motor Caribe 3D - Creador de Logos y Fondos</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background: radial-gradient(circle at top, #00c6ff, #001f3f);
        margin: 0;
        padding: 20px;
        color: white;
    }

    .container {
        max-width: 900px;
        margin: auto;
        background: rgba(0,0,0,0.35);
        padding: 20px;
        border-radius: 16px;
        backdrop-filter: blur(10px);
        box-shadow: 0 0 25px rgba(0,0,0,0.6);
    }

    h1 {
        text-align: center;
        margin-bottom: 5px;
    }

    p.descripcion {
        text-align: center;
        font-size: 14px;
        margin-top: 0;
        margin-bottom: 20px;
        opacity: 0.9;
    }

    label {
        font-weight: bold;
        display: block;
        margin-top: 10px;
    }

    input, select {
        width: 100%;
        padding: 8px;
        border-radius: 6px;
        border: none;
        margin-top: 5px;
    }

    .fila {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .fila > div {
        flex: 1 1 160px;
    }

    button {
        width: 100%;
        padding: 12px;
        background: #ffcc00;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        margin-top: 15px;
        cursor: pointer;
        font-weight: bold;
    }

    button:hover {
        background: #ffdd33;
    }

    #preview {
        margin-top: 20px;
        text-align: center;
    }

    canvas {
        margin-top: 15px;
        background: #111;
        border-radius: 16px;
        box-shadow: 0 0 25px rgba(0,0,0,0.8);
    }

    hr {
        border: none;
        border-top: 1px solid rgba(255,255,255,0.2);
        margin: 15px 0;
    }
</style>
</head>

<body>

<div class="container">
    <h1>⚡ Motor Caribe 3D</h1>
    <p class="descripcion">
        Generador de logos y fondos con efectos pseudo‑3D, metal, cristal y neón. 
        Ideal para QSL, perfiles, banners y proyectos creativos caribeños.
    </p>

    <label>Texto del logo</label>
    <input id="texto" placeholder="Ej: CL7ADV">

    <div class="fila">
        <div>
            <label>Color del texto</label>
            <input type="color" id="colorTexto" value="#ffffff">
        </div>
        <div>
            <label>Tamaño del texto</label>
            <input type="number" id="tamanoTexto" value="70">
        </div>
        <div>
            <label>Estilo de render</label>
            <select id="estilo">
                <option value="flat">Plano</option>
                <option value="3dsoft">3D suave</option>
                <option value="3dstrong">3D fuerte</option>
                <option value="metal">Metal</option>
                <option value="glass">Cristal</option>
                <option value="neon">Neón</option>
            </select>
        </div>
    </div>

    <label>Forma del logo</label>
    <select id="forma">
        <!-- Básicas -->
        <option value="none">Sin forma</option>
        <option value="circle">Círculo</option>
        <option value="square">Cuadrado</option>
        <option value="rect">Rectángulo</option>
        <option value="oval">Óvalo</option>
        <option value="triangle">Triángulo</option>
        <option value="hexagon">Hexágono</option>

        <!-- Modernas -->
        <option value="rounded">Marco redondeado</option>
        <option value="pill">Pastilla</option>
        <option value="cardH">Tarjeta horizontal</option>
        <option value="cardV">Tarjeta vertical</option>

        <!-- Creativas -->
        <option value="star">Estrella</option>
        <option value="seal">Sello redondo</option>
        <option value="wavySeal">Sello ondulado</option>
        <option value="flag">Bandera</option>
        <option value="drop">Gota</option>

        <!-- Radioaficionados -->
        <option value="diamondDX">Diamante DX</option>
        <option value="waveCircle">Onda circular</option>
        <option value="waveH">Onda horizontal</option>

        <!-- Premium -->
        <option value="circleDouble">Círculo borde doble</option>
        <option value="circleGradient">Círculo con degradado</option>
        <option value="squareNeon">Cuadrado neón</option>
        <option value="metalFrame">Marco metálico</option>
        <option value="vintageSeal">Sello vintage</option>
    </select>

    <hr>

    <h3>Opciones de fondo</h3>

    <label>Tipo de fondo</label>
    <select id="tipoFondo">
        <option value="solid">Color sólido</option>
        <option value="gradient">Degradado lineal</option>
        <option value="radial">Degradado radial</option>
        <option value="stripes">Franjas</option>
        <option value="sunset">Atardecer caribeño</option>
        <option value="sea">Mar Caribe</option>
        <option value="darkStage">Escenario oscuro</option>
    </select>

    <div class="fila">
        <div>
            <label>Color fondo 1</label>
            <input type="color" id="colorFondo1" value="#001f3f">
        </div>
        <div>
            <label>Color fondo 2</label>
            <input type="color" id="colorFondo2" value="#00c6ff">
        </div>
    </div>

    <button onclick="generarLogo()">Generar Logo / Fondo</button>
    <button onclick="descargarLogo()">Descargar PNG</button>

    <div id="preview">
        <canvas id="canvas" width="900" height="550"></canvas>
    </div>
</div>

<script>
function dibujarFondo(ctx, w, h, tipo, c1, c2) {
    if (tipo === "solid") {
        ctx.fillStyle = c1;
        ctx.fillRect(0, 0, w, h);
    } else if (tipo === "gradient") {
        const grad = ctx.createLinearGradient(0, 0, w, h);
        grad.addColorStop(0, c1);
        grad.addColorStop(1, c2);
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, w, h);
    } else if (tipo === "radial") {
        const grad = ctx.createRadialGradient(w/2, h/2, 10, w/2, h/2, Math.max(w,h)/1.2);
        grad.addColorStop(0, c1);
        grad.addColorStop(1, c2);
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, w, h);
    } else if (tipo === "stripes") {
        ctx.fillStyle = c1;
        ctx.fillRect(0, 0, w, h);
        ctx.fillStyle = c2;
        const stripeHeight = 30;
        for (let y = 0; y < h; y += stripeHeight*2) {
            ctx.fillRect(0, y, w, stripeHeight);
        }
    } else if (tipo === "sunset") {
        const grad = ctx.createLinearGradient(0, 0, 0, h);
        grad.addColorStop(0, "#ff9a00");
        grad.addColorStop(0.5, "#ff0055");
        grad.addColorStop(1, "#2b0040");
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, w, h);
    } else if (tipo === "sea") {
        const grad = ctx.createLinearGradient(0, 0, 0, h);
        grad.addColorStop(0, "#00c6ff");
        grad.addColorStop(0.5, "#0072ff");
        grad.addColorStop(1, "#001f3f");
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, w, h);

        ctx.strokeStyle = "rgba(255,255,255,0.5)";
        ctx.lineWidth = 2;
        for (let y = h*0.4; y < h; y += 20) {
            ctx.beginPath();
            for (let x = 0; x < w; x += 20) {
                const offset = Math.sin((x + y) / 40) * 5;
                ctx.lineTo(x, y + offset);
            }
            ctx.stroke();
        }
    } else if (tipo === "darkStage") {
        ctx.fillStyle = "#050509";
        ctx.fillRect(0, 0, w, h);
        const grad = ctx.createRadialGradient(w/2, h*0.35, 10, w/2, h*0.35, w/1.5);
        grad.addColorStop(0, "rgba(255,255,255,0.25)");
        grad.addColorStop(1, "rgba(0,0,0,0)");
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, w, h);
    }
}

function dibujarFormaBase(ctx, forma, cx, cy, w, h) {
    const rw = w * 0.55;
    const rh = h * 0.55;
    const x = cx - rw/2;
    const y = cy - rh/2;
    const r = Math.min(rw, rh)/2;

    ctx.beginPath();

    if (forma === "none") {
        return null;
    } else if (forma === "circle" || forma === "circleDouble" || forma === "circleGradient" || forma === "waveCircle") {
        ctx.arc(cx, cy, r, 0, Math.PI*2);
    } else if (forma === "square" || forma === "squareNeon") {
        ctx.rect(x, y, rw, rh);
    } else if (forma === "rect" || forma === "cardH" || forma === "cardV" || forma === "metalFrame") {
        let ww = rw;
        let hh = rh;
        if (forma === "cardH") { ww = rw * 1.3; hh = rh * 0.55; }
        if (forma === "cardV") { ww = rw * 0.7; hh = rh * 1.25; }
        const xx = cx - ww/2;
        const yy = cy - hh/2;
        ctx.rect(xx, yy, ww, hh);
    } else if (forma === "oval") {
        ctx.save();
        ctx.translate(cx, cy);
        ctx.scale(1.4, 1);
        ctx.arc(0, 0, r, 0, Math.PI*2);
        ctx.restore();
    } else if (forma === "triangle") {
        ctx.moveTo(cx, cy - r);
        ctx.lineTo(cx - r, cy + r);
        ctx.lineTo(cx + r, cy + r);
        ctx.closePath();
    } else if (forma === "hexagon") {
        for (let i = 0; i < 6; i++) {
            const ang = Math.PI/3 * i - Math.PI/6;
            const xx = cx + r * Math.cos(ang);
            const yy = cy + r * Math.sin(ang);
            if (i === 0) ctx.moveTo(xx, yy);
            else ctx.lineTo(xx, yy);
        }
        ctx.closePath();
    } else if (forma === "rounded" || forma === "pill") {
        let radius = 30;
        let ww = rw;
        let hh = rh;
        if (forma === "pill") {
            ww = rw * 1.4;
            hh = rh * 0.45;
            radius = hh/2;
        }
        const xx = cx - ww/2;
        const yy = cy - hh/2;
        ctx.moveTo(xx + radius, yy);
        ctx.lineTo(xx + ww - radius, yy);
        ctx.quadraticCurveTo(xx + ww, yy, xx + ww, yy + radius);
        ctx.lineTo(xx + ww, yy + hh - radius);
        ctx.quadraticCurveTo(xx + ww, yy + hh, xx + ww - radius, yy + hh);
        ctx.lineTo(xx + radius, yy + hh);
        ctx.quadraticCurveTo(xx, yy + hh, xx, yy + hh - radius);
        ctx.lineTo(xx, yy + radius);
        ctx.quadraticCurveTo(xx, yy, xx + radius, yy);
        ctx.closePath();
    } else if (forma === "star") {
        const spikes = 5;
        const outerRadius = r;
        const innerRadius = r * 0.45;
        let rot = Math.PI / 2 * 3;
        let x2 = cx;
        let y2 = cy;
        ctx.moveTo(cx, cy - outerRadius);
        for (let i = 0; i < spikes; i++) {
            x2 = cx + Math.cos(rot) * outerRadius;
            y2 = cy + Math.sin(rot) * outerRadius;
            ctx.lineTo(x2, y2);
            rot += Math.PI / spikes;

            x2 = cx + Math.cos(rot) * innerRadius;
            y2 = cy + Math.sin(rot) * innerRadius;
            ctx.lineTo(x2, y2);
            rot += Math.PI / spikes;
        }
        ctx.closePath();
    } else if (forma === "seal" || forma === "vintageSeal" || forma === "wavySeal") {
        const points = 32;
        for (let i = 0; i <= points; i++) {
            const ang = (Math.PI*2/points) * i;
            let rr = r;
            if (forma === "wavySeal") {
                rr = r + Math.sin(i*0.7)*8;
            }
            const xx = cx + rr * Math.cos(ang);
            const yy = cy + rr * Math.sin(ang);
            if (i === 0) ctx.moveTo(xx, yy);
            else ctx.lineTo(xx, yy);
        }
        ctx.closePath();
    } else if (forma === "flag") {
        const ww = rw * 1.3;
        const hh = rh * 0.5;
        const xx = cx - ww/2;
        const yy = cy - hh/2;
        ctx.moveTo(xx, yy);
        ctx.lineTo(xx + ww*0.7, yy);
        ctx.lineTo(xx + ww, yy + hh/2);
        ctx.lineTo(xx + ww*0.7, yy + hh);
        ctx.lineTo(xx, yy + hh);
        ctx.closePath();
    } else if (forma === "drop") {
        ctx.moveTo(cx, cy - r);
        ctx.bezierCurveTo(cx + r, cy - r, cx + r, cy + r*0.2, cx, cy + r);
        ctx.bezierCurveTo(cx - r, cy + r*0.2, cx - r, cy - r, cx, cy - r);
        ctx.closePath();
    } else if (forma === "diamondDX") {
        ctx.moveTo(cx, cy - r);
        ctx.lineTo(cx + r*1.2, cy);
        ctx.lineTo(cx, cy + r);
        ctx.lineTo(cx - r*1.2, cy);
        ctx.closePath();
    } else if (forma === "waveH") {
        const ww = rw * 1.4;
        const hh = rh * 0.4;
        const xx = cx - ww/2;
        const yy = cy - hh/2;
        ctx.moveTo(xx, yy + hh/2);
        for (let x2 = xx; x2 <= xx + ww; x2 += 10) {
            const off = Math.sin((x2 - xx)/20) * (hh/2);
            ctx.lineTo(x2, yy + hh/2 + off);
        }
        ctx.lineTo(xx + ww, yy + hh);
        ctx.lineTo(xx, yy + hh);
        ctx.closePath();
    } else if (forma === "waveCircle") {
        ctx.arc(cx, cy, r, 0, Math.PI*2);
    } else if (forma === "circleDouble" || forma === "circleGradient") {
        ctx.arc(cx, cy, r, 0, Math.PI*2);
    } else if (forma === "squareNeon") {
        ctx.rect(x, y, rw, rh);
    } else if (forma === "metalFrame") {
        let ww = rw * 1.2;
        let hh = rh * 0.7;
        const xx = cx - ww/2;
        const yy = cy - hh/2;
        ctx.rect(xx, yy, ww, hh);
    }

    return { r, rw, rh, x, y };
}

function aplicarEstiloForma(ctx, forma, estilo, cx, cy, info) {
    if (!info) return;
    const { r, rw, rh, x, y } = info;

    if (estilo === "flat") {
        ctx.fillStyle = "rgba(255,255,255,0.9)";
        ctx.strokeStyle = "rgba(0,0,0,0.25)";
        ctx.lineWidth = 3;
        ctx.fill();
        ctx.stroke();
    } else if (estilo === "3dsoft" || estilo === "3dstrong") {
        const intensidad = estilo === "3dsoft" ? 8 : 16;

        ctx.save();
        ctx.translate(intensidad, intensidad);
        ctx.fillStyle = "rgba(0,0,0,0.45)";
        ctx.fill();
        ctx.restore();

        const grad = ctx.createLinearGradient(x, y, x + rw, y + rh);
        grad.addColorStop(0, "rgba(255,255,255,0.98)");
        grad.addColorStop(1, "rgba(180,180,180,0.95)");
        ctx.fillStyle = grad;
        ctx.strokeStyle = "rgba(0,0,0,0.4)";
        ctx.lineWidth = 3;
        ctx.fill();
        ctx.stroke();
    } else if (estilo === "metal") {
        const grad = ctx.createLinearGradient(x, y, x + rw, y + rh);
        grad.addColorStop(0, "#f5f5f5");
        grad.addColorStop(0.25, "#b0b0b0");
        grad.addColorStop(0.5, "#e0e0e0");
        grad.addColorStop(0.75, "#8a8a8a");
        grad.addColorStop(1, "#f8f8f8");
        ctx.fillStyle = grad;
        ctx.fill();

        ctx.strokeStyle = "rgba(0,0,0,0.6)";
        ctx.lineWidth = 3;
        ctx.stroke();

        ctx.save();
        ctx.globalAlpha = 0.25;
        ctx.fillStyle = "white";
        ctx.beginPath();
        ctx.ellipse(cx, cy - r*0.4, rw*0.35, rh*0.25, 0, 0, Math.PI*2);
        ctx.fill();
        ctx.restore();
    } else if (estilo === "glass") {
        const grad = ctx.createLinearGradient(x, y, x + rw, y + rh);
        grad.addColorStop(0, "rgba(255,255,255,0.85)");
        grad.addColorStop(1, "rgba(180,220,255,0.35)");
        ctx.fillStyle = grad;
        ctx.fill();

        ctx.strokeStyle = "rgba(255,255,255,0.8)";
        ctx.lineWidth = 2;
        ctx.stroke();

        ctx.save();
        ctx.globalAlpha = 0.35;
        ctx.fillStyle = "white";
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.quadraticCurveTo(cx, y - rh*0.2, x + rw*0.8, y + rh*0.2);
        ctx.lineTo(x + rw*0.4, y + rh*0.4);
        ctx.closePath();
        ctx.fill();
        ctx.restore();
    } else if (estilo === "neon") {
        ctx.save();
        ctx.strokeStyle = "#00ffff";
        ctx.lineWidth = 5;
        ctx.shadowColor = "#00ffff";
        ctx.shadowBlur = 25;
        ctx.stroke();
        ctx.restore();

        ctx.fillStyle = "rgba(0,0,0,0.6)";
        ctx.fill();
    }
}

function dibujarForma(ctx, forma, estilo, cx, cy, w, h) {
    ctx.save();
    const info = dibujarFormaBase(ctx, forma, cx, cy, w, h);
    aplicarEstiloForma(ctx, forma, estilo, cx, cy, info);
    ctx.restore();
}

function dibujarTexto3D(ctx, texto, cx, cy, colorTexto, tamano, estilo) {
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.font = `${tamano}px Arial Black, Arial, sans-serif`;

    const maxWidth = ctx.canvas.width * 0.7;
    let textoFinal = texto;
    if (ctx.measureText(texto).width > maxWidth) {
        while (textoFinal.length > 0 && ctx.measureText(textoFinal + "…").width > maxWidth) {
            textoFinal = textoFinal.slice(0, -1);
        }
        textoFinal += "…";
    }

    if (estilo === "3dsoft" || estilo === "3dstrong") {
        const capas = estilo === "3dsoft" ? 6 : 12;
        const offset = estilo === "3dsoft" ? 1 : 1.5;
        ctx.fillStyle = "rgba(0,0,0,0.6)";
        for (let i = capas; i > 0; i--) {
            ctx.fillText(textoFinal, cx + i*offset, cy + i*offset);
        }
    }

    if (estilo === "neon") {
        ctx.save();
        ctx.strokeStyle = colorTexto;
        ctx.lineWidth = 3;
        ctx.shadowColor = colorTexto;
        ctx.shadowBlur = 25;
        ctx.strokeText(textoFinal, cx, cy);
        ctx.restore();

        ctx.fillStyle = "rgba(255,255,255,0.85)";
        ctx.fillText(textoFinal, cx, cy);
    } else if (estilo === "metal") {
        const grad = ctx.createLinearGradient(cx - 100, cy - 50, cx + 100, cy + 50);
        grad.addColorStop(0, "#f5f5f5");
        grad.addColorStop(0.3, "#b0b0b0");
        grad.addColorStop(0.6, "#ffffff");
        grad.addColorStop(1, "#8a8a8a");
        ctx.fillStyle = grad;
        ctx.strokeStyle = "rgba(0,0,0,0.7)";
        ctx.lineWidth = 2;
        ctx.fillText(textoFinal, cx, cy);
        ctx.strokeText(textoFinal, cx, cy);
    } else if (estilo === "glass") {
        ctx.fillStyle = "rgba(255,255,255,0.9)";
        ctx.strokeStyle = "rgba(0,0,0,0.4)";
        ctx.lineWidth = 2;
        ctx.fillText(textoFinal, cx, cy);
        ctx.strokeText(textoFinal, cx, cy);
    } else {
        ctx.fillStyle = colorTexto;
        ctx.strokeStyle = "rgba(0,0,0,0.5)";
        ctx.lineWidth = 2;
        ctx.fillText(textoFinal, cx, cy);
        ctx.strokeText(textoFinal, cx, cy);
    }
}

function generarLogo() {
    const texto = document.getElementById("texto").value || "";
    const colorTexto = document.getElementById("colorTexto").value;
    const tamanoTexto = parseInt(document.getElementById("tamanoTexto").value) || 70;
    const forma = document.getElementById("forma").value;
    const estilo = document.getElementById("estilo").value;

    const tipoFondo = document.getElementById("tipoFondo").value;
    const colorFondo1 = document.getElementById("colorFondo1").value;
    const colorFondo2 = document.getElementById("colorFondo2").value;

    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
    const w = canvas.width;
    const h = canvas.height;

    ctx.clearRect(0, 0, w, h);

    dibujarFondo(ctx, w, h, tipoFondo, colorFondo1, colorFondo2);

    const cx = w / 2;
    const cy = h / 2;

    dibujarForma(ctx, forma, estilo, cx, cy, w, h);

    dibujarTexto3D(ctx, texto, cx, cy, colorTexto, tamanoTexto, estilo);
}

function descargarLogo() {
    const canvas = document.getElementById("canvas");
    const enlace = document.createElement("a");
    enlace.download = "logo-caribe-3d.png";
    enlace.href = canvas.toDataURL("image/png");
    enlace.click();
}
</script>

</body>
</html>
